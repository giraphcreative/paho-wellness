
KJE.Default.FREQ_WEEKLY=0;KJE.Default.FREQ_EVERYOTHER=1;KJE.Default.FREQ_2XMONTHLY=2;KJE.Default.FREQ_MONTHLY=3;KJE.Default.FREQ_QUARTERLY=4;KJE.Default.FREQ_SEMIANNUAL=5;KJE.Default.FREQ_ANNUAL=6;KJE.Default.FREQUENCY_INDEXES=[KJE.Default.FREQ_WEEKLY,KJE.Default.FREQ_EVERYOTHER,KJE.Default.FREQ_2XMONTHLY,KJE.Default.FREQ_MONTHLY,KJE.Default.FREQ_QUARTERLY,KJE.Default.FREQ_SEMIANNUAL,KJE.Default.FREQ_ANNUAL];KJE.Default.FREQUENCY_TYPES=KJE.parameters.get("ARRAY_FREQUENCY_TYPES",["weekly","every other week","twice monthly","monthly","quarterly","semi-annual","annual"]);KJE.Default.FREQUENCY_TYPES_CAP=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_CAP",["Weekly","Every other week","Twice monthly","Monthly","Quarterly","Semi-annual","Annual"]);KJE.Default.FREQUENCY_TYPES_LBL=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_LBL",["week","payment","payment","month","quarter","payment","annual payment"]);KJE.Default.FREQUENCY_TYPES_LBL_PLURAL=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_LBL_PLURAL",["weeks","payments","payments","months","quarters","payments","annual payments"]);KJE.Default.FREQUENCY_ANNUAL_PERIODS=[52,26,24,12,4,2,1];KJE.Default.TaxRate=24;KJE.Default.TaxRateRetire=22;KJE.Default.TaxRateCapGain=15;KJE.Default.StateTaxRate=8;KJE.Default.IncomeTaxTableCurrent="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$23,200</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$16,550</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$23,200 -&nbsp;$94,300</td><td class='KJECell KJECellBorder'>$11,600 -&nbsp;$47,150</td><td class='KJECell KJECellBorder'>$16,550 -&nbsp;$63,100</td><td class='KJECell'>$11,600 -&nbsp;$47,150</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$94,300 -&nbsp;$201,050</td><td class='KJECell KJECellBorder'>$47,150 -&nbsp;$100,525</td><td class='KJECell KJECellBorder'>$63,100 -&nbsp;$100,500</td><td class='KJECell'>$47,150 -&nbsp;$100,525</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$201,050 -&nbsp;$383,900</td><td class='KJECell KJECellBorder'>$100,525 -&nbsp;$191,950</td><td class='KJECell KJECellBorder'>$100,500 -&nbsp;$191,950</td><td class='KJECell'>$100,525 -&nbsp;$191,950</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$383,900 -&nbsp;$487,450</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,725</td><td class='KJECell KJECellBorder'>$191,950 -&nbsp;$243,700</td><td class='KJECell'>$191,950 -&nbsp;$243,725</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$487,450 -&nbsp;$731,200</td><td class='KJECell KJECellBorder'>$243,725 -&nbsp;$609,350</td><td class='KJECell KJECellBorder'>$243,700 -&nbsp;$609,350</td><td class='KJECell'>$243,725 -&nbsp;$365,600</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$731,200</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell KJECellBorder'>Over &nbsp;$609,350</td><td class='KJECell'>Over &nbsp;$365,600</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-48</td></tr></tfoot></table></div>";KJE.Default.StandardDeductionCurrent="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2024 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$29,200</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Surviving Spouse</th><td class='KJECell'>$29,200</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$14,600</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$21,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$14,600</td></tr></tbody></table></div>";KJE.Default.CapitalGainsRatesCurrent="Long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2024<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$94,050</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$47,025</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$63,000</td><td class='KJECell'>$0 -&nbsp;$47,025</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$94,050 -&nbsp;$583,750</td><td class='KJECell KJECellBorder'>$47,025 -&nbsp;$518,900</td><td class='KJECell KJECellBorder'>$63,000 -&nbsp;$551,350</td><td class='KJECell'>$47,025 -&nbsp;$291,850</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $583,750</td><td class='KJECell KJECellBorder'>Over $518,900</td><td class='KJECell KJECellBorder'>Over $551,350</td><td class='KJECell'> Over $291,850</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2023 taxes. Use only to figure 2024 estimates. Source: Rev. Proc. 2023-48</td></tr></tfoot></table></div>";KJE.Default.IncomeTaxTableTaxYear="Use the &lsquo;Filing Status and Federal Income Tax Rates on Taxable Income&rsquo; table to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Federal Income Tax Rates on Taxable Income for 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell10'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$22,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$15,700</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$11,000</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>12%</th><td class='KJECell KJECellBorder'>$22,000 -&nbsp;$89,450</td><td class='KJECell KJECellBorder'>$11,000 -&nbsp;$44,725</td><td class='KJECell KJECellBorder'>$15,700 -&nbsp;$59,850</td><td class='KJECell'>$11,000 -&nbsp;$44,725</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>22%</th><td class='KJECell KJECellBorder'>$89,450 -&nbsp;$190,750</td><td class='KJECell KJECellBorder'>$44,725 -&nbsp;$95,375</td><td class='KJECell KJECellBorder'>$59,850 -&nbsp;$95,350</td><td class='KJECell'>$44,725 -&nbsp;$95,375</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>24%</th><td class='KJECell KJECellBorder'>$190,750 -&nbsp;$364,200</td><td class='KJECell KJECellBorder'>$95,375 -&nbsp;$182,100</td><td class='KJECell KJECellBorder'>$95,350 -&nbsp;$182,100</td><td class='KJECell'>$95,375 -&nbsp;$182,100</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>32%</th><td class='KJECell KJECellBorder'>$364,200 -&nbsp;$462,500</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell KJECellBorder'>$182,100 -&nbsp;$231,250</td><td class='KJECell'>$182,100 -&nbsp;$231,250</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$462,500 -&nbsp;$693,750</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,125</td><td class='KJECell KJECellBorder'>$231,250 -&nbsp;$578,100</td><td class='KJECell'>$231,250 -&nbsp;$346,875</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>37%</th><td class='KJECell KJECellBorder'>Over &nbsp;$693,750</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,125</td><td class='KJECell KJECellBorder'>Over &nbsp;$578,100</td><td class='KJECell'>Over &nbsp;$346,875</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenterText' COLSPAN='5'><sup>*</sup>Caution:  Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";KJE.Default.StandardDeductionTaxYear="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2023 Federal Income Tax</caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading KJECell60'>Filing Status</th><th scope='col' class='KJEHeading KJECell40'>Standard Deduction</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</th><td class='KJECell'>$27,700</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Qualified Surviving Spouse</th><td class='KJECell'>$27,700</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Single</th><td class='KJECell'>$13,850</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</th><td class='KJECell'>$20,800</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</th><td class='KJECell'>$13,850</td></tr></tbody></table></div>";KJE.Default.CapitalGainsRatesTaxYear="long-term capital gains are taxed at lower, special capital gains rates and are calculated as follows (note that qualified dividends are taxed as if they were a long-term capital gain):<ul><li>Calculate your total taxable income without long-term capital gains. </li><li>Use this amount to determine the rate for your long-term gain, up to the top of the bracket.</li><li>The portion of your long-term capital gain that exceeds a bracket will be taxed at the next higher rate.</li><li>This calculator assumes that none of your long-term capital gains come from collectibles, section 1202 gains or un-recaptured 1250 gains.  These types of capital gains are taxed at 28%, 28% and 25% respectively (unless your ordinary income tax bracket is a lower rate).</li></ul><div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Long-term Capital Gain Tax Rates 2023<sup>*</sup></caption><thead class='KJEReportTHeader'><tr class=KJEHeaderRow><th scope='col' class='KJEHeading'>Tax Rate</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Jointly or Qualified Surviving Spouse</th><th scope='col' class='KJEHeading KJECell225'>Single</th><th scope='col' class='KJEHeading KJECell225'>Head of Household</th><th scope='col' class='KJEHeading KJECell225'>Married Filing Separately</th></tr></thead><tbody class='KJEReportTBody'><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>0%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$89,250</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$44,625</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$59,750</td><td class='KJECell'>$0 -&nbsp;$44,625</td></tr><tr class='KJEEvenRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$89,250 -&nbsp;$553,850</td><td class='KJECell KJECellBorder'>$44,625 -&nbsp;$492,300</td><td class='KJECell KJECellBorder'>$59,750 -&nbsp;$523,050</td><td class='KJECell'>$44,625 -&nbsp;$276,900</td></tr><tr class='KJEOddRow'><th scope='row' class='KJELabel KJECellBorder KJELabelPad'>20%</th><td class='KJECell KJECellBorder'>Over $553,850</td><td class='KJECell KJECellBorder'>Over $492,300</td><td class='KJECell KJECellBorder'>Over $523,050</td><td class='KJECell'> Over $276,900</td></tr></tbody><tfoot class='KJEReportTFooter'><tr class=KJEFooterRow><td class='KJECell KJECenter' COLSPAN='5'><sup>*</sup>Caution:  Use only to figure 2023 estimates. Source: Rev. Proc. 2022-38</td></tr></tfoot></table></div>";KJE.definitions.set("**TAXCAPGAINS_CURRENT_DEFINITION**",KJE.Default.CapitalGainsRatesCurrent);KJE.definitions.set("**TAXCAPGAINS_TAXYEAR_DEFINITION**",KJE.Default.CapitalGainsRatesTaxYear);KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);KJE.definitions.set("**STANDARDDEDUCTION_CURRENT_DEFINITION**",KJE.Default.StandardDeductionCurrent);KJE.definitions.set("**STANDARDDEDUCTION_TAXYEAR_DEFINITION**",KJE.Default.StandardDeductionTaxYear);KJE.parameters.set("CONTRIB_AMOUNT",0);KJE.parameters.set("CONTRIB_ANNUAL_ROR",KJE.Default.RORMarket);KJE.parameters.set("CONTRIB_FREQUENCY",6);KJE.parameters.set("CONTRIB_STARTING_BALANCE",0);KJE.parameters.set("CONTRIB_TAX_RATE",KJE.Default.TaxRate);KJE.parameters.set("CONTRIB_YEARS",10);KJE.parameters.set("WITHDRAW_FREQUENCY",6);KJE.parameters.set("WITHDRAW_TAX_RATE",KJE.Default.TaxRateRetire);KJE.parameters.set("WITHDRAW_YEARS",1);KJE.parameters.set("HIDE_TAX_FREE",true);KJE.parameters.set("MSG_RESULTS1","Based on your inputs, both investments produce nearly identical results.");KJE.parameters.set("MSG_RESULTS2","Based on your inputs, the ACCOUNT_TYPE investment appears to produce the best result.");KJE.parameters.set("MSG_RESULTS3","Based on your inputs, the ACCOUNT_TYPE investment appears to produce the best result.");KJE.parameters.set("MSG_RESULTS_DETAIL1","The taxable and tax-deferred investments produce an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT.");KJE.parameters.set("MSG_RESULTS_DETAIL2","The ACCOUNT_TYPE investment produces an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT.");KJE.parameters.set("MSG_RESULTS_DETAIL3","The ACCOUNT_TYPE investment produces an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT.");KJE.CalculatorTitle=KJE.parameters.set("MSG_TITLE_LBL","Taxable vs. Tax Deferred Investments");KJE.InvestmentAccountCalc=function(){this.MSG_WITHDRAW_RESULT_DESC=KJE.parameters.get("MSG_WITHDRAW_RESULT_DESC","A distribution of WITHDRAW_AMOUNT_CALC WITHDRAW_FREQUENCY runs out in WITHDRAW_LENGTH_DESC.");this.WITHDRAW_RESULT_DESC="";this.INFLATION_PER_PERIOD=false;this.WITHDRAW_YEARS_TXT=null;this.WITHDRAW_RUNOUT_YEARS=0;this.WITHDRAW_RUNOUT_PERIODS=0;this.WITHDRAW_RUNOUT_FRACTION=0;this.MAX_WITHDRAW_YEARS=100;this.MSG_PLUS=KJE.parameters.get("MSG_PLUS","plus");this.MSG_PERIOD=KJE.parameters.get("MSG_PERIOD","payment");this.MSG_PERIODS=KJE.parameters.get("MSG_PERIODS","payments");this.WITHDRAW_LENGTH_DESC="";this.MSG_EXTRA_NOTE="";this.MSG_CONTRIB_ADJUST_FOR_INFLATION=KJE.parameters.get("MSG_CONTRIB_ADJUST_FOR_INFLATION","Your contributions were increased annually at a projected MSG_INFLATION annual rate of inflation.");this.MSG_WITHDRAW_ADJUST_FOR_INFLATION=KJE.parameters.get("MSG_WITHDRAW_ADJUST_FOR_INFLATION","Your withdrawals were increased annually at a projected MSG_INFLATION rate of inflation.");this.MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS=KJE.parameters.get("MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS","In today's dollars your withdrawal would be WITHDRAW_AMOUNT_CALC. To have the same purchasing power, after CONTRIB_TOTAL_YEARS years of inflation during your contribution phase, your first withdrawal will actually be WITHDRAW_AMOUNT.");this.IRA_MAXIMUMS=[6000,6000,6000,6000];[];this.IRA_MAXIMUMS_CATCHUP=1000;this.IRA_CATCHUP_AGE_START=50;this.CONTRIB_BEGIN_PERIOD=true;this.WITHDRAW_BEGIN_PERIOD=true;this.WITHDRAW_STARTING_BALANCE=0;this.WITHDRAW_ANNUAL_ROR_ATAX=0;this.WITHDRAW_YEARS=0;this.WITHDRAW_TYPE=KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE;this.CONTRIB_TAX_RATE=0;this.CONTRIB_YEARS=0;this.CONTRIB_ADJUST_FOR_INFLATION=false;this.CONTRIB_AMOUNT=0;this.CONTRIB_FREQUENCY=KJE.Default.FREQ_MONTHLY;this.CONTRIB_ANNUAL_ROR=0;this.CURRENT_AGE=0;this.WITHDRAW_TAX_RATE=0;this.CONTRIBUTE_TO_MAXIMUM=false;this.WITHDRAW_FREQUENCY=KJE.Default.FREQ_ANNUAL;this.WITHDRAW_ADJUST_FOR_INFLATION=false;this.WITHDRAW_ADJUST_FOR_TAXES=false;this.INFLATION_RATE=0;this.CONTRIB_STARTING_BALANCE=0;this.CONTRIB_YEARS_TO_START=0;this.CONTRIB_YEARS_TO_END=0;this.WITHDRAW_AMOUNT=0;this.WITHDRAW_ANNUAL_ROR=0;this.WITHDRAW_REQUIRED_REMAINING_BALANCE=0;this.WITHDRAW_PERSERVATION_PERCENT=0;this.WITHDRAW_RUNOUT=0;this.DS_STARTING_BAL=null;this.DS_CONTRIBUTIONS=null;this.DS_WITHDRAWALS=null;this.DS_EARNINGS=null;this.DS_ENDING_BAL=null;this.DF_BALANCE=null;this.DF_STARTING_BAL=null;this.DF_CONTRIBUTIONS=null;this.DF_WITHDRAWALS=null;this.DF_EARNINGS=null;this.cats=null;this.CURRENT_YEAR=KJE.parameters.get("CURRENT_YEAR",1);this.ADVANCED_COUNT=KJE.parameters.get("ADVANCED_COUNT",0);if(this.ADVANCED_COUNT>0){this.ADVANCED_AMOUNT=KJE.FloatArray(this.ADVANCED_COUNT);this.ADVANCED_YEAR_START=KJE.IntArray(this.ADVANCED_COUNT);this.ADVANCED_YEAR_END=KJE.IntArray(this.ADVANCED_COUNT);this.ADVANCED_TABLE_ROW=KJE.parameters.get("ADVANCED_TABLE_ROW","<tr class=**ROWCLASS**><td class='KJELabel KJECellBorder'>Additional withdrawal(-) or deposit(+) #ADVANCED_TABLE_ROW</td><td class='KJECell'>ADVANCED_TABLE_CONTENT</td></tr>");this.ADVANCED_TABLE_CONTENT2=KJE.parameters.get("ADVANCED_TABLE_CONTENT2","ADVANCED_AMOUNT annually from ADVANCED_YEAR_START to ADVANCED_YEAR_END");this.ADVANCED_TABLE_CONTENT1=KJE.parameters.get("ADVANCED_TABLE_CONTENT1","ADVANCED_AMOUNT in ADVANCED_YEAR_START");this.sRowClass=KJE.parameters.get("ADVANCED_TABLE_ROW_CLASS","KJEEvenRow")}this.sSchedule=new KJE.Repeating()};KJE.InvestmentAccountCalc.prototype.clear=function(){this.ACCOUNT_TYPE=KJE.InvestmentAccountCalc.ACCT_OTHER;this.ACCOUNT_NAME="";this.ACCOUNT_SHORT_NAME="";this.WITHDRAW_PRESERVE_AMOUNT=0};KJE.InvestmentAccountCalc.prototype.calculate=function(R){var b=KJE;var d=false;var r=this.CURRENT_AGE;var s=this.INFLATION_RATE;var v=this.ACCOUNT_TYPE;var q=this.CONTRIBUTE_TO_MAXIMUM;var H=this.ACCOUNT_NAME;var K=this.ACCOUNT_SHORT_NAME;var T=this.CONTRIB_STARTING_BALANCE;var h=this.CONTRIB_AMOUNT;var w=KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.CONTRIB_FREQUENCY];var aa=this.CONTRIB_ADJUST_FOR_INFLATION;var U=this.CONTRIB_TAX_RATE;var D=this.CONTRIB_ANNUAL_ROR;var G=this.CONTRIB_YEARS;var S=this.CONTRIB_YEARS_TO_START;var x=this.CONTRIB_YEARS_TO_END;var y=this.WITHDRAW_YEARS;var A=this.WITHDRAW_TAX_RATE;var N=this.WITHDRAW_TYPE;var t=this.WITHDRAW_AMOUNT;var E=KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY];var z=this.WITHDRAW_ANNUAL_ROR;var p=this.WITHDRAW_PERSERVATION_PERCENT;var P=this.WITHDRAW_ADJUST_FOR_INFLATION;var c=this.WITHDRAW_ADJUST_FOR_TAXES;this.WITHDRAW_AMOUNT_TODAY=t;this.TOTAL_INTEREST=0;this.CONTRIB_TOTAL_INTEREST=0;this.CONTRIB_TOTAL_CONTRIBUTIONS=0;this.WITHDRAW_ENDING_BALANCE=0;this.WITHDRAW_TOTAL_INTEREST=0;this.WITHDRAW_TOTAL_WITHDRAWALS=0;this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX=0;var O=t;for(var Z=0;Z<this.ADVANCED_COUNT;Z++){if(this.ADVANCED_AMOUNT[Z]==0){this.ADVANCED_YEAR_START[Z]=0;this.ADVANCED_YEAR_END[Z]=0}else{if(this.ADVANCED_YEAR_START[Z]<this.CURRENT_YEAR){this.ADVANCED_YEAR_START[Z]=this.CURRENT_YEAR}if(this.ADVANCED_YEAR_END[Z]<this.ADVANCED_YEAR_START[Z]){this.ADVANCED_YEAR_END[Z]=this.ADVANCED_YEAR_START[Z]}}}this.WITHDRAW_YEARS_TXT=null;var L=false;if(y==-1){y=this.MAX_WITHDRAW_YEARS;L=true}var g=KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[v];this.CONTRIB_TAXABLE_INTEREST=g[0];this.CONTRIB_TAXABLE_DEPOSITS=g[1];this.WITHDRAW_TAXABLE_INTEREST=g[2];this.WITHDRAW_TAXABLE_WITHDRAWALS=g[3];this.CONTRIB_TOTAL_YEARS=S+G+x;this.CONTRIB_ANNUAL_ROR_ATAX=D*(1-U);if(w==1){this.CONTRIB_PERIODIC_ROR=D;this.CONTRIB_PERIODIC_ROR_ATAX=this.CONTRIB_ANNUAL_ROR_ATAX}else{this.CONTRIB_PERIODIC_ROR=KJE.ROR_PERIOD(D,w);this.CONTRIB_PERIODIC_ROR_ATAX=KJE.ROR_PERIOD(this.CONTRIB_ANNUAL_ROR_ATAX,w)}this.WITHDRAW_ANNUAL_ROR_ATAX=z*(1-A);if(E==1){this.WITHDRAW_PERIODIC_ROR=z;this.WITHDRAW_PERIODIC_ROR_ATAX=this.WITHDRAW_ANNUAL_ROR_ATAX}else{this.WITHDRAW_PERIODIC_ROR=KJE.ROR_PERIOD(z,E);this.WITHDRAW_PERIODIC_ROR_ATAX=KJE.ROR_PERIOD(this.WITHDRAW_ANNUAL_ROR_ATAX,E)}this.DS_STARTING_BAL=KJE.FloatArray(y+this.CONTRIB_TOTAL_YEARS);this.DS_CONTRIBUTIONS=KJE.FloatArray(y+this.CONTRIB_TOTAL_YEARS);this.DS_WITHDRAWALS=KJE.FloatArray(y+this.CONTRIB_TOTAL_YEARS);this.DS_EARNINGS=KJE.FloatArray(y+this.CONTRIB_TOTAL_YEARS);this.DS_ENDING_BAL=KJE.FloatArray(y+this.CONTRIB_TOTAL_YEARS);var f=T;var J=h;var ab=this.CONTRIB_TAXABLE_INTEREST?this.CONTRIB_PERIODIC_ROR_ATAX:this.CONTRIB_PERIODIC_ROR;var C=this.CONTRIB_TAXABLE_INTEREST?this.CONTRIB_ANNUAL_ROR_ATAX:D;for(var Z=0;Z<this.CONTRIB_TOTAL_YEARS;Z++){if(q){J=(this.IRA_MAXIMUMS.length<=Z?this.IRA_MAXIMUMS[this.IRA_MAXIMUMS.length-1]:this.IRA_MAXIMUMS[Z])+(r+Z<this.IRA_CATCHUP_AGE_START?0:this.IRA_MAXIMUMS_CATCHUP);J/=w;if(Z==0){h=J}}this.DS_STARTING_BAL[Z]=f;var u=0;var n=0;if(Z>=S-1&&Z<=(S+G)-1){var F=0;for(var Y=0;Y<w;Y++){if(!this.CONTRIB_BEGIN_PERIOD){F+=b.round(F*ab,2)}F+=J;u+=J;if(this.CONTRIB_BEGIN_PERIOD){F+=b.round(F*ab,2)}}n+=F-u}n+=b.round(f*C,2);f+=n+u;if(aa){J*=1+s}this.DS_EARNINGS[Z]=n;this.CONTRIB_TOTAL_INTEREST+=n;this.CONTRIB_TOTAL_CONTRIBUTIONS+=u;this.DS_CONTRIBUTIONS[Z]=u;this.DS_WITHDRAWALS[Z]=0;this.DS_ENDING_BAL[Z]=f}if(P==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){O=t;t=KJE.FV_AMT(s,this.CONTRIB_TOTAL_YEARS,t)}this.WITHDRAW_STARTING_BALANCE=f;ab=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_PERIODIC_ROR_ATAX:this.WITHDRAW_PERIODIC_ROR;C=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_ANNUAL_ROR_ATAX:z;var m=0;if(N==KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_PERCENT){m=b.round(this.WITHDRAW_STARTING_BALANCE*p,2)}else{if(N==KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_AMOUNT){if(this.WITHDRAW_PRESERVE_AMOUNT==0||m==0){this.WITHDRAW_PRESERVE_AMOUNT=0;m=0}else{if(this.WITHDRAW_STARTING_BALANCE!=0){p=b.round((m/this.WITHDRAW_STARTING_BALANCE)*100,0)/100}}}}if(N==KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT){this.WITHDRAW_PRESERVE_AMOUNT=0;m=0}else{if(this.WITHDRAW_BEGIN_PERIOD){t=KJE.PMT_BEGIN(ab,y*E,this.WITHDRAW_STARTING_BALANCE-m);if(P){t=this.dMaxWithdrawal(this.WITHDRAW_STARTING_BALANCE,t,E)}if(P==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){O=KJE.NPV_AMT(s,this.CONTRIB_TOTAL_YEARS,t)}else{O=t}}else{t=KJE.PMT(ab,y*E,this.WITHDRAW_STARTING_BALANCE-m);if(P){t=this.dMaxWithdrawal(this.WITHDRAW_STARTING_BALANCE,t,E)}if(P==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){O=KJE.NPV_AMT(s,this.CONTRIB_TOTAL_YEARS,t)}else{O=t}}}if(this.WITHDRAW_TAXABLE_WITHDRAWALS&&c){this.WITHDRAW_AMOUNT_AFTERTAX=t;t=t/(1-A)}else{if(this.WITHDRAW_TAXABLE_WITHDRAWALS){this.WITHDRAW_AMOUNT_AFTERTAX=t*(1-A)}else{this.WITHDRAW_AMOUNT_AFTERTAX=t}}var e=t;var a=0;var Q=0;var I=0;var M=KJE.ROR_PERIOD(s,E);for(var W=this.CONTRIB_TOTAL_YEARS;W<y+this.CONTRIB_TOTAL_YEARS;W++){this.DS_STARTING_BAL[W]=f;a=0;Q=0;I=0;if(this.ADVANCED_COUNT>0){for(var Z=0;Z<this.ADVANCED_COUNT;Z++){var o=this.CURRENT_YEAR+W;if(o>=this.ADVANCED_YEAR_START[Z]&&o<=this.ADVANCED_YEAR_END[Z]){I+=this.ADVANCED_AMOUNT[Z]}}}for(var k=0;k<E&&f>0;k++){if(!this.WITHDRAW_BEGIN_PERIOD){Q+=b.round(f*ab,2);f+=b.round(f*ab,2)}if(k==0&&I!=0){a-=I;f+=I;if(f<=0){a+=f;f=0}}a+=e;f-=e;if(f<(e/2)){a+=f;f=0}if(P&&this.INFLATION_PER_PERIOD){e*=1+M}if(this.WITHDRAW_BEGIN_PERIOD){Q+=b.round(f*ab,2);f+=b.round(f*ab,2)}if(f<=0&&this.WITHDRAW_YEARS_TXT==null){this.WITHDRAW_RUNOUT=W-this.CONTRIB_TOTAL_YEARS+1;this.WITHDRAW_RUNOUT_YEARS=W-this.CONTRIB_TOTAL_YEARS;this.WITHDRAW_RUNOUT_PERIODS=k+1;if(this.WITHDRAW_RUNOUT_PERIODS==E){this.WITHDRAW_RUNOUT_PERIODS=0;this.WITHDRAW_RUNOUT_YEARS++}this.WITHDRAW_RUNOUT_FRACTION=this.WITHDRAW_RUNOUT_YEARS+this.WITHDRAW_RUNOUT_PERIODS/E;this.WITHDRAW_YEARS_TXT=b.number(this.WITHDRAW_RUNOUT)+" "+KJE.MSG_YEARS_LBL}}if(P&&!this.INFLATION_PER_PERIOD){e*=1+s}this.WITHDRAW_TOTAL_INTEREST+=Q;this.WITHDRAW_TOTAL_WITHDRAWALS+=a;this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX+=this.WITHDRAW_TAXABLE_WITHDRAWALS?a*(1-A):a;if(a>=0){this.DS_CONTRIBUTIONS[W]=0;this.DS_WITHDRAWALS[W]=a}else{this.DS_CONTRIBUTIONS[W]=a*-1;d=true;this.DS_WITHDRAWALS[W]=0}this.DS_EARNINGS[W]=Q;this.DS_ENDING_BAL[W]=f}if(f>0||this.WITHDRAW_YEARS_TXT==null){this.WITHDRAW_YEARS_TXT=KJE.getTermLabel(this.WITHDRAW_RUNOUT_YEARS+this.WITHDRAW_RUNOUT_PERIODS);this.WITHDRAW_ENDING_BALANCE=f;this.WITHDRAW_RUNOUT=y;this.WITHDRAW_RUNOUT_YEARS=y;this.WITHDRAW_RUNOUT_FRACTION=y;this.WITHDRAW_RUNOUT_PERIODS=0}this.WITHDRAW_LENGTH_DESC=this.getPaymentLength(this.WITHDRAW_RUNOUT_YEARS,this.WITHDRAW_RUNOUT_PERIODS,this.WITHDRAW_FREQUENCY,false);this.WITHDRAW_RESULT_DESC=KJE.replace("WITHDRAW_AMOUNT_CALC",b.dollars(O),KJE.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY],KJE.replace("WITHDRAW_LENGTH_DESC",this.WITHDRAW_LENGTH_DESC,this.MSG_WITHDRAW_RESULT_DESC)));this.TOTAL_INTEREST=this.CONTRIB_TOTAL_INTEREST+this.WITHDRAW_TOTAL_INTEREST;if(R){var B=this.sSchedule;B.clearRepeat();var X=B.sReportCol("<br />Contributions",3);if(X=="Withdrawals"){X="<br />Contributions"}B.addHeader(B.sReportCol("<br />Age",1),B.sReportCol("Starting<br />Balance",2),(h>0||d?X:null),B.sReportCol("<br />Withdrawals",4),B.sReportCol("Investment<br />Earnings",5),B.sReportCol("Ending<br />Balance",6))}this.DF_BALANCE=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_STARTING_BAL=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_CONTRIBUTIONS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_WITHDRAWALS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_EARNINGS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.cats=KJE.FloatArray(this.DF_BALANCE.length);this.DF_BALANCE[0]=(T);this.DF_STARTING_BAL[0]=(T);this.cats[0]=""+(r<=0?this.CURRENT_YEAR:r);for(var V=0;V<this.DF_BALANCE.length-1;V++){this.DF_BALANCE[V+1]=this.DS_ENDING_BAL[V];this.DF_STARTING_BAL[V+1]=this.DS_STARTING_BAL[V];this.DF_WITHDRAWALS[V+1]=this.DS_WITHDRAWALS[V];this.DF_EARNINGS[V+1]=this.DS_EARNINGS[V];this.DF_CONTRIBUTIONS[V+1]=this.DS_CONTRIBUTIONS[V];this.cats[V+1]=""+((r<=0?this.CURRENT_YEAR:r)+V+1);if(R){B.addRepeat(this.cats[V],b.dollars(this.DS_STARTING_BAL[V]),(h||d>0?b.dollars(this.DS_CONTRIBUTIONS[V]):null),b.dollars(this.DS_WITHDRAWALS[V]),b.dollars(this.DS_EARNINGS[V]),b.dollars(this.DS_ENDING_BAL[V]))}}this.WITHDRAW_PERSERVATION_PERCENT=p;this.WITHDRAW_REQUIRED_REMAINING_BALANCE=m;this.WITHDRAW_AMOUNT_CALC=O;this.WITHDRAW_AMOUNT=t};KJE.InvestmentAccountCalc.prototype.formatReport=function(e){e.show("<QUICK>","</QUICK>",false);e.dollars("WITHDRAW_ANNUAL_AMOUNT_AFTERTAX",KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY]*this.WITHDRAW_AMOUNT_AFTERTAX);e.dollars("WITHDRAW_ANNUAL_AMOUNT",KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY]*this.WITHDRAW_AMOUNT);e.replace("WITHDRAW_RESULT_DESC",this.WITHDRAW_RESULT_DESC);e.replace("WITHDRAW_LENGTH_DESC",this.WITHDRAW_LENGTH_DESC);e.replace("WITHDRAW_YEARS_TXT",this.WITHDRAW_YEARS_TXT);e.replace("MSG_CONTRIB_ADJUST_FOR_INFLATION",this.CONTRIB_ADJUST_FOR_INFLATION?KJE.replace("MSG_INFLATION",KJE.percent(this.INFLATION_RATE,2),this.MSG_CONTRIB_ADJUST_FOR_INFLATION):"");e.replace("MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS",this.WITHDRAW_ADJUST_FOR_INFLATION==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE?this.MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS:"");e.replace("MSG_WITHDRAW_ADJUST_FOR_INFLATION",this.WITHDRAW_ADJUST_FOR_INFLATION?KJE.replace("MSG_INFLATION",KJE.percent(this.INFLATION_RATE,2),this.MSG_WITHDRAW_ADJUST_FOR_INFLATION):"");e.dollars("CONTRIB_STARTING_BALANCE",this.CONTRIB_STARTING_BALANCE);e.dollars("CONTRIB_AMOUNT",this.CONTRIB_AMOUNT);e.replace("CONTRIB_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.CONTRIB_FREQUENCY]);e.returnRate("CONTRIB_ANNUAL_ROR",this.CONTRIB_ANNUAL_ROR);e.taxRate("CONTRIB_TAX_RATE",this.CONTRIB_TAX_RATE);e.yesno("CONTRIB_TAXABLE_INTEREST",this.CONTRIB_TAXABLE_INTEREST);e.yesno("CONTRIB_TAXABLE_DEPOSITS",this.CONTRIB_TAXABLE_DEPOSITS);e.dollars("CONTRIB_TOTAL_INTEREST",this.CONTRIB_TOTAL_INTEREST);e.dollars("CONTRIB_TOTAL_CONTRIBUTIONS",this.CONTRIB_TOTAL_CONTRIBUTIONS);e.returnRate("CONTRIB_ANNUAL_ROR_ATAX",this.CONTRIB_ANNUAL_ROR_ATAX);e.returnRate("CONTRIB_PERIODIC_ROR",this.CONTRIB_PERIODIC_ROR);e.returnRate("CONTRIB_PERIODIC_ROR_ATAX",this.CONTRIB_PERIODIC_ROR_ATAX);e.yesno("CONTRIB_ADJUST_FOR_INFLATION",this.CONTRIB_ADJUST_FOR_INFLATION);e.year("CONTRIB_TOTAL_YEARS",this.CONTRIB_TOTAL_YEARS);e.year("CONTRIB_YEARS",this.CONTRIB_YEARS);e.year("CONTRIB_YEARS_TO_START",this.CONTRIB_YEARS_TO_START);e.year("CONTRIB_YEARS_TO_END",this.CONTRIB_YEARS_TO_END);e.dollars("WITHDRAW_STARTING_BALANCE",this.WITHDRAW_STARTING_BALANCE);e.year("WITHDRAW_YEARS",this.WITHDRAW_YEARS);e.taxRate("WITHDRAW_TAX_RATE",this.WITHDRAW_TAX_RATE);e.replace("WITHDRAW_TYPE",KJE.InvestmentAccountCalc.WITHDRAW_TYPES[this.WITHDRAW_TYPE]);e.dollars("WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX",this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX);e.dollars("WITHDRAW_AMOUNT_TODAY",this.WITHDRAW_AMOUNT_TODAY);e.dollars("WITHDRAW_AMOUNT_AFTERTAX",this.WITHDRAW_AMOUNT_AFTERTAX);e.dollars("WITHDRAW_AMOUNT_CALC",this.WITHDRAW_AMOUNT_CALC);e.dollars("WITHDRAW_AMOUNT",this.WITHDRAW_AMOUNT);e.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY]);e.returnRate("WITHDRAW_ANNUAL_ROR",this.WITHDRAW_ANNUAL_ROR);e.yesno("WITHDRAW_TAXABLE_INTEREST",this.WITHDRAW_TAXABLE_INTEREST?0:1);e.yesno("WITHDRAW_TAXABLE_WITHDRAWALS",this.WITHDRAW_TAXABLE_WITHDRAWALS);e.dollars("WITHDRAW_REQUIRED_REMAINING_BALANCE",this.WITHDRAW_REQUIRED_REMAINING_BALANCE);e.dollars("WITHDRAW_ENDING_BALANCE",this.WITHDRAW_ENDING_BALANCE);e.dollars("WITHDRAW_TOTAL_INTEREST",this.WITHDRAW_TOTAL_INTEREST);e.dollars("WITHDRAW_TOTAL_WITHDRAWALS",this.WITHDRAW_TOTAL_WITHDRAWALS);e.dollars("WITHDRAW_PERSERVATION_PERCENT",this.WITHDRAW_PERSERVATION_PERCENT);e.yesno("WITHDRAW_ADJUST_FOR_INFLATION",this.WITHDRAW_ADJUST_FOR_INFLATION);e.returnRate("WITHDRAW_ANNUAL_ROR_ATAX",this.WITHDRAW_ANNUAL_ROR_ATAX);e.returnRate("WITHDRAW_PERIODIC_ROR",this.WITHDRAW_PERIODIC_ROR);e.returnRate("WITHDRAW_PERIODIC_ROR_ATAX",this.WITHDRAW_PERIODIC_ROR_ATAX);e.age("CURRENT_AGE",this.CURRENT_AGE);e.age("WITHDRAW_AGE",this.CURRENT_AGE+this.CONTRIB_TOTAL_YEARS);e.inflationRate("INFLATION_RATE",this.INFLATION_RATE);e.replace("ACCOUNT_TYPE",KJE.InvestmentAccountCalc.ACCOUNT_TYPES[this.ACCOUNT_TYPE]);e.yesno("CONTRIBUTE_TO_MAXIMUM",this.CONTRIBUTE_TO_MAXIMUM);e.replace("ACCOUNT_NAME",this.ACCOUNT_NAME);e.dollars("TOTAL_INTEREST",this.TOTAL_INTEREST);e.replace("MSG_EXTRA_NOTE",this.MSG_EXTRA_NOTE);var b=new KJE.ReportMessage(this.ADVANCED_TABLE_ROW);for(var d=0;d<this.ADVANCED_COUNT;d++){if(this.ADVANCED_AMOUNT[d]==0){}else{var c=new KJE.ReportMessage((this.ADVANCED_YEAR_START[d]==this.ADVANCED_YEAR_END[d])?this.ADVANCED_TABLE_CONTENT1:this.ADVANCED_TABLE_CONTENT2);c.replace("ADVANCED_YEAR_START",KJE.input(this.ADVANCED_YEAR_START[d]));c.replace("ADVANCED_YEAR_END",KJE.input(this.ADVANCED_YEAR_END[d]));c.replace("ADVANCED_AMOUNT",(this.ADVANCED_AMOUNT[d]>0?"+":"")+KJE.dollars(this.ADVANCED_AMOUNT[d]));var a=new KJE.ReportMessage(this.ADVANCED_TABLE_ROW);a.replace("ADVANCED_TABLE_ROW",KJE.input(d+1));a.replace("ADVANCED_TABLE_CONTENT",c.get());b.append(a.get())}}e.replace("**ROWCLASS**",this.sRowClass,KJE.replace("<!--ADVANCED_AMOUNT_ROWS-->",b));e.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())};KJE.InvestmentAccountCalc.prototype.dMaxWithdrawal=function(a,f,k){var l=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_PERIODIC_ROR_ATAX:this.WITHDRAW_PERIODIC_ROR;var m=KJE.ROR_PERIOD(this.INFLATION_RATE,k);var q=this.WITHDRAW_ADJUST_FOR_INFLATION&&this.INFLATION_PER_PERIOD;var t=this.WITHDRAW_ADJUST_FOR_INFLATION&&!this.INFLATION_PER_PERIOD;var i=this.WITHDRAW_BEGIN_PERIOD;var u=this.WITHDRAW_YEARS+this.CONTRIB_TOTAL_YEARS;var g=this.CONTRIB_TOTAL_YEARS;var d=this.INFLATION_RATE;var b=f;var c=f/2;var h=0;var e=a;var s=b;for(var o=1;o<50;o++){e=a;s=b;for(var r=g;r<u;r++){for(var p=0;p<k&&e>0;p++){if(!i){e+=KJE.round(e*l,2)}e-=s;if(q){s*=1+m}if(i){e+=KJE.round(e*l,2)}}if(t){s*=1+d}}h=e;if(KJE.round(h,2)==0){return b}else{if(h<0){b-=c}else{b+=c}}c=c/2}return b};KJE.InvestmentAccountCalc.prototype.getPaymentLength=function(f,a,e,c){var b=this.MSG_PERIOD;var d=this.MSG_PERIODS;if(e<KJE.Default.FREQUENCY_TYPES_LBL_PLURAL.length){d=KJE.Default.FREQUENCY_TYPES_LBL_PLURAL[e]}if(e<KJE.Default.FREQUENCY_TYPES_LBL.length){b=KJE.Default.FREQUENCY_TYPES_LBL[e]}return(c||f>0?f+" "+(f>=this.MAX_WITHDRAW_YEARS?this.MSG_PLUS+" ":"")+(f==1?KJE.MSG_YEAR_LBL:KJE.MSG_YEARS_LBL):"")+(c||(f>0&&a>0)?" "+KJE.MSG_AND_LBL+" ":"")+(c||a>0?a+" "+(a==1?b:d):"")};KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_PERCENT=0;KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_AMOUNT=1;KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE=2;KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT=3;KJE.InvestmentAccountCalc.WITHDRAW_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_TYPES",["Principal preservation percent","Principal preservation fix-ed amount","Zero ending balance","periodic amount"]);KJE.InvestmentAccountCalc.WITHDRAW_INDEXES=[0,1,2,3];KJE.InvestmentAccountCalc.WITHDRAW_SHORT_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_SHORT_TYPES",["Maximum withdrawal","Years balance will last"]);KJE.InvestmentAccountCalc.WITHDRAW_SHORT_INDEXES=[KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE,KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT];KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST=0;KJE.InvestmentAccountCalc.INFLATION_ADJUST=1;KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE=2;KJE.InvestmentAccountCalc.WITHDRAW_INFLATION_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_INFLATION_TYPES",["No adjustment","Adjustments begin with withdrawals","Adjustments begin immediately"]);KJE.InvestmentAccountCalc.WITHDRAW_INFLATION_INDEXES=[KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE];KJE.InvestmentAccountCalc.CONTRIB_INFLATION_TYPES=KJE.parameters.get("ARRAY_CONTRIB_INFLATION_TYPES",["No adjustment","Annually for inflation"]);KJE.InvestmentAccountCalc.CONTRIB_INFLATION_INDEXES=[KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST];KJE.InvestmentAccountCalc.ACCT_401K=0;KJE.InvestmentAccountCalc.ACCT_TRADITIONAL_IRA=1;KJE.InvestmentAccountCalc.ACCT_ROTH_IRA=2;KJE.InvestmentAccountCalc.ACCT_OTHER_TAX_DEFERRED=3;KJE.InvestmentAccountCalc.ACCT_FIXED_ANNUITIES=4;KJE.InvestmentAccountCalc.ACCT_VARIABLE_ANNUTIES=5;KJE.InvestmentAccountCalc.ACCT_TAX_EXEMPT_BONDS=6;KJE.InvestmentAccountCalc.ACCT_TAX_EXEMPT_MUTUAL_FUNDS=7;KJE.InvestmentAccountCalc.ACCT_OTHER_TAX_EXEMPT=8;KJE.InvestmentAccountCalc.ACCT_LONGTERM_STOCKS=9;KJE.InvestmentAccountCalc.ACCT_SHORTTERM_STOCKS=10;KJE.InvestmentAccountCalc.ACCT_TAXABLE_BONDS=11;KJE.InvestmentAccountCalc.ACCT_SAVINGS_ACCOUNTS=12;KJE.InvestmentAccountCalc.ACCT_STOCK_MUTUAL_FUNDS=13;KJE.InvestmentAccountCalc.ACCT_BOND_MUTUAL_FUNDS=14;KJE.InvestmentAccountCalc.ACCT_MONEY_MARKET=15;KJE.InvestmentAccountCalc.ACCT_SAVINGS_BONDS=16;KJE.InvestmentAccountCalc.ACCT_OTHER_TAXABLE=17;KJE.InvestmentAccountCalc.ACCT_REALESTATE=18;KJE.InvestmentAccountCalc.ACCT_OTHER_FIXED_ASSETS=19;KJE.InvestmentAccountCalc.ACCT_OTHER=20;KJE.InvestmentAccountCalc.ACCOUNT_TYPES=["401(k)s and 403(b)s","Traditional IRAs","ROTH IRAs","Other tax-deferred","Fixed annuities","Variable annuities","Tax-exempt bonds","Tax-exempt mutual funds","Other tax-exempt","Long-term stocks","Short-term stocks","Taxable Bonds","Savings Accounts and CDs","Stock mutual funds","Bond mutual funds","Money market funds","Savings bonds","Other taxable","Real estate","Other fixed assets","Other"];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER=new Array();KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[0]=[false,false,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[1]=[false,false,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[2]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[3]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[4]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[5]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[6]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[7]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[8]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[9]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[10]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[11]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[12]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[13]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[14]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[15]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[16]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[17]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[18]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[19]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[20]=[true,true,true,true];KJE.InvestmentAccountCalc.WITHDRAW_INDEXES=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];KJE.InvestCompareCalc=function(){this.GROSSUP=false;this.MSG_RESULTS=[KJE.parameters.get("MSG_RESULTS1","Based on your inputs, all three investments produce nearly identical results."),KJE.parameters.get("MSG_RESULTS2","Based on your inputs, the tax-deferred and tax-free investments appear to produce nearly identical results."),KJE.parameters.get("MSG_RESULTS3","Based on your inputs, the ACCOUNT_TYPE investment appears to produce the best result.")];this.MSG_RESULTS_DETAIL=[KJE.parameters.get("MSG_RESULTS_DETAIL1","The taxable, tax-deferred and tax-free investments produce an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT."),KJE.parameters.get("MSG_RESULTS_DETAIL2","The tax-deferred and tax-free investments produce an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT."),KJE.parameters.get("MSG_RESULTS_DETAIL3","The ACCOUNT_TYPE investment produces an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT.")];this.HIDE_TAX_FREE=KJE.parameters.get("HIDE_TAX_FREE",false);this.WITHDRAW_TAX_RATE=0;this.WITHDRAW_STARTING_BALANCE=0;this.WITHDRAW_TOTAL_WITHDRAWALS=0;this.WITHDRAW_AMOUNT=0;this.WITHDRAW_ANNUAL_ROR=0;this.IA=new Array(3);this.IA[0]=new KJE.InvestmentAccountCalc();this.IA[1]=new KJE.InvestmentAccountCalc();this.IA[2]=new KJE.InvestmentAccountCalc();this.DD_NEW=new Array(4);this.bAfterTax=KJE.parameters.get("AFTER_TAX",false);this.sName=[KJE.parameters.get("MSG_ACCOUNT_TYPE1","Taxable"),KJE.parameters.get("MSG_ACCOUNT_TYPE2","Tax-Deferred"),KJE.parameters.get("MSG_ACCOUNT_TYPE3","Tax-Free")];this.cats2=[KJE.parameters.get("MSG_CAT1","Balance at Withdrawal"),KJE.parameters.get("MSG_CAT2","After-Tax Withdrawal")];this.DD_RESULTS=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);this.DD_WITHDRAW=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);this.cats=null;this.sSchedule=new KJE.Repeating()};KJE.InvestCompareCalc.prototype.clear=function(){this.CONTRIB_YEARS=0;this.CONTRIB_STARTING_BALANCE=0;this.CONTRIB_AMOUNT=0;this.CONTRIB_FREQUENCY=KJE.Default.FREQ_ANNUAL;this.CONTRIB_ANNUAL_ROR=0;this.CONTRIB_TAX_RATE=0;this.WITHDRAW_YEARS=0;this.WITHDRAW_FREQUENCY=KJE.Default.FREQ_ANNUAL};KJE.InvestCompareCalc.prototype.calculate=function(k){var e=KJE;var j=this.IA;var b=this.DD_NEW;var d=this.DD_RESULTS;var f=this.DD_WITHDRAW;this.CONTRIB_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR/100;j[0].clear();this.getDefaultInvestmentAccount(j[0],this.sName[0],this.sName[0],KJE.InvestmentAccountCalc.ACCT_OTHER_TAXABLE,false);j[1].clear();this.getDefaultInvestmentAccount(j[1],this.sName[1],this.sName[1],KJE.InvestmentAccountCalc.ACCT_401K,false);j[2].clear();this.getDefaultInvestmentAccount(j[2],this.sName[2],this.sName[2],KJE.InvestmentAccountCalc.ACCT_ROTH_IRA,this.HIDE_TAX_FREE);var l=0;for(var a=0;a<j.length-(this.HIDE_TAX_FREE?1:0);a++){j[a].calculate();l=Math.round(j[a].DS_ENDING_BAL.length);d[a]=j[a].WITHDRAW_STARTING_BALANCE;f[a]=(j[a].WITHDRAW_TAXABLE_WITHDRAWALS?(j[a].WITHDRAW_AMOUNT*(1-j[a].WITHDRAW_TAX_RATE)):j[a].WITHDRAW_AMOUNT);b[a]=(j[a].DS_ENDING_BAL)}b[3]=KJE.FloatArray(l);for(var h=0;h<b[1].length;h++){b[3][h]=(j[1].WITHDRAW_TAXABLE_WITHDRAWALS?(b[1][h]*(1-j[1].WITHDRAW_TAX_RATE)):b[1][h])}if(k){var g=this.sSchedule;g.clearRepeat();g.addHeader(g.sReportCol("#",1),g.sReportCol("Taxable",2),g.sReportCol("Tax-Deferred",3),(this.HIDE_TAX_FREE?null:g.sReportCol("Tax Free",4)))}this.DS_WITHDRAW=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);var h=0;this.cats=new Array(l);for(var c=1;c<=l;c++){h=c-1;this.cats[h]=""+c;if(k){g.addRepeat(e.number(c),e.dollars(b[0][h]),e.dollars((this.bAfterTax?b[3][h]:b[1][h])),(this.HIDE_TAX_FREE?null:e.dollars(b[2][h])))}}};KJE.InvestCompareCalc.prototype.formatReport=function(f){var e=0;var g=0;var b=this.IA;var j=KJE.FloatArray(3);for(var c=0;c<b.length;c++){j[c]=KJE.round(b[c].WITHDRAW_AMOUNT_AFTERTAX,0);if(e<j[c]){e=j[c];g=c}}var h=new KJE.ReportMessage("");var a=new KJE.ReportMessage("");if(j[0]==j[1]&&j[1]==j[2]){h.append(this.MSG_RESULTS_DETAIL[0]);a.append(this.MSG_RESULTS[0])}else{if(j[1]==j[2]){h.append(this.MSG_RESULTS_DETAIL[1]);a.append(this.MSG_RESULTS[1])}else{h.append(this.MSG_RESULTS_DETAIL[2]);a.append(this.MSG_RESULTS[2])}}a.dollars("WITHDRAW_AMOUNT",e);h.dollars("WITHDRAW_AMOUNT",e);a.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY].toLowerCase());h.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY].toLowerCase());if(!this.sName[g].trim()==("TFSA")&&!this.sName[g].trim()==("RRSP")){a.replace("ACCOUNT_TYPE",this.sName[g].toLowerCase());h.replace("ACCOUNT_TYPE",this.sName[g].toLowerCase())}else{a.replace("ACCOUNT_TYPE",this.sName[g]);h.replace("ACCOUNT_TYPE",this.sName[g])}f.replace("MSG_RESULT_DETAIL",h.get());f.replace("MSG_RESULT",a.get());f.replace("<!--SHOW_GROSSUP-->",(this.GROSSUP?"":"<!--"));f.replace("<!--/SHOW_GROSSUP-->",(this.GROSSUP?"":"-->"));f.year("CONTRIB_YEARS",this.CONTRIB_YEARS);f.dollars("CONTRIB_STARTING_BALANCE",this.CONTRIB_STARTING_BALANCE);f.replace("CONTRIB_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.CONTRIB_FREQUENCY]);f.returnRate("CONTRIB_ANNUAL_ROR",this.CONTRIB_ANNUAL_ROR);f.taxRate("CONTRIB_TAX_RATE",this.CONTRIB_TAX_RATE);f.taxRate("WITHDRAW_TAX_RATE",this.WITHDRAW_TAX_RATE);f.year("WITHDRAW_YEARS",this.WITHDRAW_YEARS);f.returnRate("WITHDRAW_ANNUAL_ROR",b[0].WITHDRAW_ANNUAL_ROR);for(var c=0;c<b.length;c++){f.replace("ACCOUNT_TYPE"+(c+1),this.sName[c]);f.dollars("WITHDRAW_STARTING_BALANCE"+(c+1),b[c].WITHDRAW_STARTING_BALANCE);f.dollars("WITHDRAW_TOTAL_WITHDRAWALS"+(c+1),b[c].WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX);f.dollars("CONTRIB_AMOUNT"+(c+1),b[c].CONTRIB_AMOUNT);f.dollars("WITHDRAW_AMOUNT"+(c+1),b[c].WITHDRAW_AMOUNT_AFTERTAX);f.replace("WITHDRAW_FREQUENCY"+(c+1),KJE.Default.FREQUENCY_TYPES[b[0].WITHDRAW_FREQUENCY])}f.replace("tfsa","TFSA");f.replace("/TFSA/","/tfsa/");f.replace("TFSA-celi","tfsa-celi");f.replace("**REPEATING GROUP**",this.sSchedule.getRepeat())};KJE.InvestCompareCalc.prototype.getDefaultInvestmentAccount=function(e,d,c,b,a){e.WITHDRAW_FREQUENCY=this.WITHDRAW_FREQUENCY;e.INFLATION_RATE=0;e.CONTRIBUTE_TO_MAXIMUM=false;e.ACCOUNT_NAME=d;e.ACCOUNT_SHORT_NAME=c;e.iDECIMALS=KJE.Default.DollarDecimals;if(a){e.CONTRIB_AMOUNT=0}else{if(b==KJE.InvestmentAccountCalc.ACCT_401K&&this.GROSSUP){e.CONTRIB_AMOUNT=this.CONTRIB_AMOUNT/(1-this.CONTRIB_TAX_RATE)}else{e.CONTRIB_AMOUNT=this.CONTRIB_AMOUNT}}e.CONTRIB_STARTING_BALANCE=this.CONTRIB_STARTING_BALANCE;e.CONTRIB_FREQUENCY=this.CONTRIB_FREQUENCY;e.CONTRIB_ADJUST_FOR_INFLATION=false;e.CONTRIB_TAX_RATE=this.CONTRIB_TAX_RATE;e.CONTRIB_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR;e.CONTRIB_YEARS=this.CONTRIB_YEARS;e.CONTRIB_YEARS_TO_START=0;e.CONTRIB_YEARS_TO_END=0;e.CONTRIB_BEGIN_PERIOD=true;e.WITHDRAW_YEARS=this.WITHDRAW_YEARS;e.WITHDRAW_FREQUENCY=this.WITHDRAW_FREQUENCY;e.WITHDRAW_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR;e.WITHDRAW_TAX_RATE=this.WITHDRAW_TAX_RATE;e.WITHDRAW_TYPE=KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE;e.WITHDRAW_AMOUNT=0;e.WITHDRAW_REQUIRED_REMAINING_BALANCE=0;e.WITHDRAW_PERSERVATION_PERCENT=0;e.WITHDRAW_ADJUST_FOR_INFLATION=false;e.WITHDRAW_BEGIN_PERIOD=false;e.ACCOUNT_TYPE=b;return e};KJE.CalcName="Taxable vs. Tax Deferred Investments";KJE.CalcType="InvestCompare2";KJE.CalculatorTitle=KJE.parameters.get("MSG_TITLE_LBL","Taxable vs. Tax Advantaged Investments");KJE.parseInputs=function(b){var a=KJE.getDropBox("WITHDRAW_FREQUENCY",KJE.parameters.get("WITHDRAW_FREQUENCY",KJE.Default.FREQ_ANNUAL),KJE.Default.FREQUENCY_INDEXES,KJE.Default.FREQUENCY_TYPES);b=KJE.replace("**WITHDRAW_FREQUENCY**",a,b);var a=KJE.getDropBox("CONTRIB_FREQUENCY",KJE.parameters.get("CONTRIB_FREQUENCY",KJE.Default.FREQ_ANNUAL),KJE.Default.FREQUENCY_INDEXES,KJE.Default.FREQUENCY_TYPES);b=KJE.replace("**CONTRIB_FREQUENCY**",a,b);return b};KJE.initialize=function(){KJE.CalcControl=new KJE.InvestCompareCalc();KJE.GuiControl=new KJE.InvestCompare(KJE.CalcControl)};KJE.InvestCompare=function(i){var c=KJE;var b=KJE.gLegend;var e=KJE.inputs.items;KJE.NumberSlider("CONTRIB_YEARS","Years to contribute",1,100,0);KJE.DollarSlider("CONTRIB_STARTING_BALANCE","Existing balance",0,1000000000,2,0,4);KJE.DollarSlider("CONTRIB_AMOUNT","New contributions",0,1000000,2,0,2);KJE.InvestRateSlider("CONTRIB_ANNUAL_ROR","Annual rate of return");KJE.InputItem.AltHelpName="CONTRIB_TAX_RATE";KJE.PercentSlider("CONTRIB_TAX_RATE","Tax during contributions",0,50,1,1);KJE.PercentSlider("WITHDRAW_TAX_RATE","Tax during withdrawals",0,50,1,1);KJE.InputItem.AltHelpName=null;KJE.NumberSlider("WITHDRAW_YEARS","Years of withdrawals",1,100,0);KJE.DropBox("WITHDRAW_FREQUENCY","Withdrawal frequency");KJE.DropBox("CONTRIB_FREQUENCY","Contribution frequency");KJE.Checkbox("GROSSUP","Tax deduction",false,"Increase tax-deferred contribution by tax deduction savings.");this.WITHDRAW_SAME_TAX=KJE.parameters.get("WITHDRAW_SAME_TAX",false);var f=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH1","KJE1 After-Tax Withdrawal"));f._legend.setVisible(false);f._bPopDetail=true;f._showItemLabel=true;f._showItemLabelOnTop=true;var g=KJE.gNewGraph(KJE.gLINE,"GRAPH2",true,true,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH2","Annual Balance of Accounts"));g._legend._iOrientation=(b.TOP_RIGHT);f._titleXAxis.setText(i.MSG_YEAR_LBL);var a=KJE.parameters.get("MSG_DROPPER_TITLE","Investment contributions and withdrawals:");KJE.addDropper(new KJE.Dropper("INPUTS",true,a,a),KJE.colorList[0]);var j=KJE.parameters.get("MSG_DROPPER2_TITLE","Investment taxes:");var d=KJE.parameters.get("MSG_DROPPER2_CLOSETITLE",e.CONTRIB_TAX_RATE._sLabel+": KJE1 "+e.WITHDRAW_TAX_RATE._sLabel+": KJE2, Increase tax-deferred contributions? KJE3");var h=function(){return j+KJE.subText(KJE.getKJEReplaced(d,e.CONTRIB_TAX_RATE.getFormatted(),e.WITHDRAW_TAX_RATE.getFormatted(),KJE.yesno(i.GROSSUP)),"KJECenter")};KJE.addDropper(new KJE.Dropper("INPUTS2",true,j,h),KJE.colorList[0])};KJE.InvestCompare.prototype.setValues=function(b){var a=KJE.inputs.items;b.CONTRIB_STARTING_BALANCE=a.CONTRIB_STARTING_BALANCE.getValue();b.CONTRIB_AMOUNT=a.CONTRIB_AMOUNT.getValue();b.CONTRIB_FREQUENCY=Math.round(a.CONTRIB_FREQUENCY.getValue());b.CONTRIB_TAX_RATE=a.CONTRIB_TAX_RATE.getValue()/100;b.WITHDRAW_TAX_RATE=(this.WITHDRAW_SAME_TAX?b.CONTRIB_TAX_RATE:a.WITHDRAW_TAX_RATE.getValue()/100);b.WITHDRAW_YEARS=a.WITHDRAW_YEARS.getValue();b.WITHDRAW_FREQUENCY=Math.round(a.WITHDRAW_FREQUENCY.getValue());b.GROSSUP=a.GROSSUP.getValue();b.CONTRIB_ANNUAL_ROR=a.CONTRIB_ANNUAL_ROR.getValue();b.CONTRIB_YEARS=a.CONTRIB_YEARS.getValue();b.WITHDRAW_YEARS=a.WITHDRAW_YEARS.getValue()};KJE.InvestCompare.prototype.refresh=function(f){var e=KJE;var d=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];var c=KJE.gGraphs[1];a.removeAll();a.setTitleTemplate(KJE.Default.FREQUENCY_TYPES_CAP[f.WITHDRAW_FREQUENCY]);a.setGraphCategories(f.sName);a.add(new KJE.gGraphDataSeries(f.DD_WITHDRAW,f.sName[1],a.getColor(2)));a.paint();c.removeAll();c.setGraphCategories(f.cats);c.add(new KJE.gGraphDataSeries(f.DD_NEW[0],f.sName[0],c.getColor(1)));c.add(new KJE.gGraphDataSeries(f.DD_NEW[1],f.sName[1],c.getColor(2)));if(!f.HIDE_TAX_FREE){c.add(new KJE.gGraphDataSeries(f.DD_NEW[2],f.sName[2],c.getColor(3)))}c.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-CONTRIB_ANNUAL_ROR'><input id='KJE-CONTRIB_ANNUAL_ROR' /></div> <div id='KJE-C-CONTRIB_YEARS'><input id='KJE-CONTRIB_YEARS' /></div> <div id='KJE-C-WITHDRAW_YEARS'><input id='KJE-WITHDRAW_YEARS' /></div> <div id='KJE-C-CONTRIB_STARTING_BALANCE'><input id='KJE-CONTRIB_STARTING_BALANCE' /></div> <div id='KJE-C-CONTRIB_AMOUNT'><input id='KJE-CONTRIB_AMOUNT' /></div> <div id='KJE-C-CONTRIB_FREQUENCY'>**CONTRIB_FREQUENCY**</div> <div id='KJE-C-WITHDRAW_FREQUENCY'>**WITHDRAW_FREQUENCY**</div> <div class=KJEDropperSpacer></div> </div> <div id=KJE-D-INPUTS2><div id=KJE-P-INPUTS2>Input information:</div></div> <div id=KJE-E-INPUTS2> <div id='KJE-C-CONTRIB_TAX_RATE'><input id='KJE-CONTRIB_TAX_RATE' /></div> <div id='KJE-C-WITHDRAW_TAX_RATE'><input id='KJE-WITHDRAW_TAX_RATE' /></div> <div id='KJE-C-GROSSUP'><input id='KJE-GROSSUP' type=checkbox name='GROSSUP' /></div> <div class=KJEDropperSpacer></div> </div> **GRAPH1** **GRAPH2** ";KJE.DefinitionText=" <div id='KJE-D-CONTRIB_ANNUAL_ROR' ><dt>Annual rate of return</dt><dd>This is the annual rate of return you expect from your investments after taxes. **ROR_DEFINITION**</dd></div> <div id='KJE-D-CONTRIB_YEARS' ><dt>Years to contribute</dt><dd>Number of years you plan on making contributions.</dd></div> <div id='KJE-D-WITHDRAW_YEARS' ><dt>Years of withdraws</dt><dd>Number of years you plan on taking distributions. Enter '1' for a lump sum distribution. All distributions are assumed to happen at the beginning of the period.</dd></div> <div id='KJE-D-CONTRIB_STARTING_BALANCE' ><dt>Existing balance</dt><dd>Any existing balance for the accounts.</dd></div> <div id='KJE-D-CONTRIB_AMOUNT' ><dt>New contributions</dt><dd>Your periodic contribution. All contributions are assumed to happen at the beginning of the period.</dd></div> <div id='KJE-D-CONTRIB_FREQUENCY' ><dt>Contribution frequency</dt><dd>The frequency of your contributions. The options are Monthly, Quarterly, or Annually. All contributions are assumed to be made at the beginning of the period.</dd></div> <div id='KJE-D-WITHDRAW_FREQUENCY' ><dt>Withdrawal frequency</dt><dd>The frequency of your distributions. The options are Monthly, Quarterly or Annually. All distributions are assumed to be taken at the end of the period.</dd></div> <div id='KJE-D-CONTRIB_TAX_RATE' ><dt>Tax during contributions / withdrawals*</dt><dd>Your estimated marginal tax rate. **TAXTABLE_CURRENT_DEFINITION** <div class=KJEBold>*Lower maximum tax rates on capital gains and dividends would make the investment return for the taxable investment more favorable, thereby reducing the difference in performance between the hypothetical investments shown. Investors should consider their personal investment horizon and income tax bracket, both current and anticipated, when making an investment decision, as these may further impact the comparison. </div></dd></div> <div id='KJE-D-GROSSUP' ><dt>Increase tax-deferred contribution by tax deduction savings</dt><dd>If you check this box the calculator will assume contributions to the tax-deferred investment are tax-deductible when they are made. The calculator will then increase the contribution amount for the tax-deferred investment by the amount required to make the net contribution equal to the investments that have contributions made on an after-tax basis.</dd></div> ";KJE.ReportText=' <p><!--HEADING "Taxable vs. Tax Advantaged Investments" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>MSG_RESULT</h2> MSG_RESULT_DETAIL Please see the information below for additional details specific to these results. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Results Summary</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><th class="KJEHeading KJECell40">&nbsp; </th><th class="KJEHeading KJECell30" scope=\'col\'> ACCOUNT_TYPE1 </th><th class="KJEHeading KJECell30" scope=\'col\'> ACCOUNT_TYPE2 </th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>New contributions<br>(over a period of CONTRIB_YEARS) </th><td class="KJECell KJECellBorder" > CONTRIB_AMOUNT1<br>CONTRIB_FREQUENCY </td><td class="KJECell KJECellBorder" > CONTRIB_AMOUNT2<br>CONTRIB_FREQUENCY<!--SHOW_GROSSUP-->*<!--/SHOW_GROSSUP--> </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Balance when withdrawals begin<br> </th><td class="KJECell KJECellBorder" > WITHDRAW_STARTING_BALANCE1 </td><td class="KJECell KJECellBorder" > WITHDRAW_STARTING_BALANCE2 </td></tr> </tbody> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>After tax withdrawal <br>(over a period of WITHDRAW_YEARS) </th><td class="KJECellStrong KJECellBorder" > WITHDRAW_AMOUNT1<br>WITHDRAW_FREQUENCY1</td><td class="KJECellStrong KJECellBorder" > WITHDRAW_AMOUNT2<br>WITHDRAW_FREQUENCY2</td></tr> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total withdrawals, after taxes <br> </th><td class="KJECellStrong KJECellBorder" > WITHDRAW_TOTAL_WITHDRAWALS1 </td><td class="KJECellStrong KJECellBorder" > WITHDRAW_TOTAL_WITHDRAWALS2 </td></tr> </tfoot> </table> </div> <!--SHOW_GROSSUP--> <div class="KJEInset"> <p class=KJEFooter>*In this scenario contributions to the tax-deferred investment are tax-deductible when they are made. The calculator has increased the contribution amount for the tax-deferred investment by the amount required to make the net contribution equal to the investments that have contributions made on an after-tax basis. </div> <!--/SHOW_GROSSUP--> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Input Summary</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60" scope=\'row\'>Existing balance </th><td class="KJECell KJECell40"> CONTRIB_STARTING_BALANCE </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Annual rate of return </th><td class="KJECell"> CONTRIB_ANNUAL_ROR </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Years to contribute </th><td class="KJECell"> CONTRIB_YEARS</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Years of withdrawals </th><td class="KJECell"> WITHDRAW_YEARS </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Tax rate during contribution period* </th><td class="KJECell"> CONTRIB_TAX_RATE </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Tax rate during withdrawal period* </th><td class="KJECell"> WITHDRAW_TAX_RATE </td></tr> </tbody> </table> </div> <div class="KJEInset"> <p>*Lower maximum tax rates on capital gains and dividends would make the investment return for the taxable investment more favorable, thereby reducing the difference in performance between the hypothetical investments shown. Investors should consider their personal investment horizon and income tax bracket, both current and anticipated, when making an investment decision, as these may further impact the comparison. <p>Withdrawals prior to age 59-1/2 on qualified accounts may be subject to a 10% Federal penalty. </div> **GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Balances by Year</h2> **REPEATING GROUP** ';
// 02/12/2024 Copyright 2024 KJE Computer Solutions, Inc.  Licensed for use on https://www.bienestaradvisors.org

